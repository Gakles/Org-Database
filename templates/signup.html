{% extends "base.html"%}
{%block style%}
<link rel="stylesheet" href = "/static/style/signupstyle.css">
{%endblock%}
{%block centerdiv%}
<div class="container">
    <div class="row justify-content-center align-items-center">
        <div class="card p-4">
          <h2 class="mb-4 text-center">Create Account</h2>
          <form method = "POST">
            <div class="form-group">
              <label for="username">Username</label>
              <input type="text" class="form-control" id="username" name  = "proposed_username" placeholder="Enter username">
            </div>
            <div class="form-group">
              <label for="password">Password</label>
              <input type="password" class="form-control" id="password" placeholder="Password">
            </div>
            <div class="form-group">
              <label for="confirm-password">Confirm Password</label>
              <input type="password" class="form-control" id="confirm-password" name = "proposed_password" placeholder="Confirm Password">
            </div>
            <button type="submit" class="btn btn-primary btn-block mt-4" id = "submit-btn">Create Account</button>
          </form>
          <div class="mt-4 text-center">
            <span>Already have an account?</span>
            <a href="/login" class="ml-1">Log in</a>
          </div>
        </div>
    </div>
  </div>
{%endblock%}
{%block script%}
<!--Taken straight from chapgpt-->
<script>
  const passwordInput = document.getElementById("password");
  const confirmPasswordInput = document.getElementById("confirm-password");
  const submitBtn = document.getElementById("submit-btn");

  function validatePassword() {
    if (passwordInput.value !== confirmPasswordInput.value) {
      confirmPasswordInput.setCustomValidity("Passwords do not match");
    } else {
      confirmPasswordInput.setCustomValidity("");
    }
  }

  passwordInput.addEventListener("change", validatePassword);
  confirmPasswordInput.addEventListener("keyup", validatePassword);
  submitBtn.addEventListener("click", validatePassword);
</script>
{%endblock%}
